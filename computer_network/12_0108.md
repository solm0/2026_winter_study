무선에대한.

라우터가 3계층까지잇ㄴㄴ데 왜 BGP에서 TCP connection 쓰냐고 여쭤봐야겠다

# Wireless LAN
multiple input multiple output(MIMO)
하려면 안테나갯수가 많아야됨.
모두 CSMA/CA를 쓴다.
모두 base-station이 있고
ad-hoc 네트워크이다.

CD는 못함 -> 무선에서 충돌을 낮추자 -> CA

# LAN 구조
base station(AP, access point)와 cell(BSS, Basic Service Set)

association: host가 새로운 AP와 맺어지는 과정
내가 받을수있는 반경 안의 AP를보여줌. AP가 주기적으로 beacon frame을 보냄. 받으면 AP가 있다는걸 알게됨.

associate방법 종류(단말 기준)
- passive scanning: 능동적으로 보내주기 전에 AP가 beacon message보내주기를 기다리기 -> 단말이 request frame 보냄. -> AP가 response frame을 줌.
- active scanning: 뭐가있는지 단말이 확인(Probe Request frame broadcast) -> AP가 Probe Response frame 보냄 -> 단말이 request frame보냄 -> AP가 response frame보냄.

# frame
유/무선의 frame은 공통점도 있고 차이점도 있다. 무선이 좀더 복잡.

결국은 유선으로 가야함.
보내는쪽 받는쪽 MAC뿜만 아니라 AP의 MAC까지 붙이는거임.

- address가 좀더 복잡.
- Address1: 받는 AP또는host의 MAC
- Address2: 보내는 AP또는host의 MAC
- Address3: AP가 붙은 라우터의 MAC
- Address4: ad hoc에서만 사용됨






# CA
> 스토리텔링. 맥락이랑 맥락에서 나오는 키워드들 다 설명해야됨.

Multiple Access환경에서 여러가지 파티션하는기능이있엇고 그중하나가 CSMA였는데~

CSMA: sense before transmitting
무선은 sensing이 어려워(유선과 다른 위 무선의 문제 나열하기) CD가 어렵다.

-> Collision Avoidance라는걸만들어야겟다.

CA는 message 기반이다.

## 기간
- DIFS: 보내기 전에 sensing하기
- SIFS: 받으면 바로 ack가 아니고 좀 기다림(에러있는지)

## RTS/CTS 메시지
- RTS: sender가 보냄. 모든 BS에게 RTS를 보냄
- CTS: BS가 받으면 어떤 sender에서 받앗는지 응답함(근데 ppp가 아니라 broadcast) clear to send 즉 send를 하지말라고 보내는것임.

polling과 비슷. 나머지 노드한테 충돌회피 위해서 메시지보내지말라고 통보하는거임.
B한테 RTS보낼라했는데 B한테서 다른host에게보내는 CTS가 왔다 -> 기다려야됨.
B는 먼저온RTS에게 CTS보냄. CTS받은host는 이제 메시지보내면되구나 하는거임.
그럼 connection이랑 비슷한거낙?

다양한 RTS가 보내진다. AP입장에선 A가먼저와서 A를 뿌린다. A는data주고 AP가 ACK방송함. 그럼 다시 경쟁모드로  돌아감. 기다리던 B는 다시메시지보낼준비함.

-> 메시지방식으로 collision을 회피

RTS는 AP주변 어떤 노드든 보냄, RTS에는 노드정보가 들어있늠, RTS자체는 서로 충돌할 수 잇음.





# 블루투스: personal area network
master/slave

# Mobility
무선에서는 원래 지역에서 망을 바꿔가며 이동할 수 있다. 라우팅에서도 이동성을 고려해야 한다.

# Mobile IP
> 각 부분의 명칭 기억, 방법 2개와 차이 숙지

망을 옮겨가면 ip가 달라진다 -> ip가 변할때 관리를 어떻게 해야 하느냐? ipv6의 tunneling과 비슷하다.

- home network: permanent address도 있지만 노트북 들고 회사갈수도 있음.
- home agent: permanent address를 알고있는애(AP?)
- foreign agnet: 방문한 네트워크의 agent
- care-of-address: 임시 address

## indirect routing
foreign agent가 home agent에게 얘가 왔다는거를 알려줌. home agent가 옮겨간 coa를 알고있기때문에 ip를 보내주고? 옮겨간 위치에서 통신?할수있음

문제: 거리 멀수록 비효율적. triangle problem

coa ip주소 다르니까(mobile ip) 기존 permanent address에 coa를 추가적으로 붙여서 전달해줌.

이렇게하는이유가 뭐지? 서로 다른 망에선 걍 ip다르게하면되는거아니야?

## direct routing
한번만 옮겨감.

## 망을 계속 옮기기
home agent가 옮겨가ㅏㄹ때마다 관리해야함 -> 몰림.
근처로 옮길테니까 처음 옮긴 foreign agent를 anchor대표로 줘서 관리를 하자






# Cellular network의 구성요소
MSC(Mobile Switching Center)
public telephone network
기지국 뒤에는 다 유선. MSC도 기존 public telephone으로 연결.

> 비교하기

## 2G(voice)
2G는 TDMA
BSC BTS MSC

## 3G(voice+data)
Public Internet망과 연결
SGSN-GGSN-Public Internet

영상 되기시작햇는데 잘안되는 과도기

## 4G LTE
public telephone network를 없애고 완전히 public internet으로 대체됨.
S-GW - P-GW - Public Internet
EPC

# 5G
4G로 현재인터넷은 충분.
빔포밍, 멀티유저, 안테나성능향상

고주파대역 기지국 필요(고가, 멀리 못보냄)



# Cellular network
MSC의 망
MSC 구간을 넘어가면 cell단위로는 handoff가

# GSM
- Hard handoff: 끊고넘어감
- Soft handoff: 연결먼저하고끊음

첫번째 visit network 역할을 MSC가 하고 그 MSC를 anchor MSC라고 하고 체인으로 관리한다.
왜 무조건 이전거로 관리하지않고 체인식으로해야하지?

