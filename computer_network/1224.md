# web
HTTP: application layer protocol
hypertext transfer protocol
cs구조.

TCP: transport layer protocol
서버가 클라이언트에게서 TCP 연결을 받음
HTTP는 stateless다. 과거의 request를 저장하지 않는다.

## HTTP connection의 두 타입
- non-persistent HTTP(1.0): 한 번의 TCP connection에 하나의 object밖에 못보냄.
- Persistent HTTP(1.1): 연속적인 메세지가 있으면 연결을 유지하고 복수의 메세지를 보냄
  - round trip time(RTT): 패킷이 클라이언트에서 서버로 갔다가 돌아오는 시간.
- HTTP 2: 복수를 HTTP에 보내고 TCP는 병렬로 보냄.

# HTTP request message
포맷
- method sp URL sp version cr lf
- header field name value cr lf
- ...
- header field name value cr lf
- cr lf

sender와 receiver가 바라보는 헤더는 같다.

request method들
- GET: 조회
- POST: 중복으로도 계속 생김
- PUT: 있으면 생성안함.업데이트
- HEAD: 는뭐지

## cookies
서버는 저장하지 않음. 세션은 저장함. 세션id를 클라이언트에게 줌. 클라이언트는 쿠키저장하고 서버에 쿠키 줌. 끊어지면 서버는 세션 삭제.

## web caches
자주 불러오는 정보를 캐시에 올려놓는다. 브라우저는 모든 HTTP request를 캐시에 보낸다. 캐시에 있으면 그거 쓰고 없으면 서버에서 가져옴.
프록시 서버

# HTTP2
먼저오면 먼저처리해줘야함. 은행처럼.
바로 앞에있는 메세지가 큰 메세지면 많이 기다려야됨.
head-of-line(HOL) blocking
하나가 독점을 안하게 일정한 bandwidth를 배정해줌.

# E-mail
RFC 5321, port 25
send: SMTP
access: IMAP

# DNS
ip는 32bit로 되어있다.
그래서 이름을 붙여준다.
계층적으로 관리해야 방대한 데이터를 관리할 수있다. co.kr 분산 데이터베이스. 전세계에서 다쓰는데 한쪽에 몰리면 안됨

## dns name resolution
- iterated query
- recursive query

## dns 정보 캐시하기
TTL: 얼마나 오래 저장할건지
out-of-date

## dns records
타입에 따라 저장하는 정보가 다르다.
- A: hostname, ip
- NS: domainm hostname
- CNAME: alias, name
- MX: mailserver

